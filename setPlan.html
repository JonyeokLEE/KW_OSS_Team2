<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Set Plan</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="setPlan.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            min-height: 100vh;
            background-image: linear-gradient(120deg, #380036, #0CBABA); 
        }

        section {
            margin-bottom: 20px;
        }

        h2 {
            padding-bottom: 5px;
        }

        .schedule-container {
            border: none;
            padding: 10px;
            margin-top: 10px;
            margin-bottom: 10px;
            margin-left: 350px;
            margin-right: 350px;
        }

        .task-list {
            list-style-type: none;
            padding: 0;
        }

        .task-item {
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 10px;
            margin: 10px 0;
            display: flex;
            justify-content: space-between;
        }

        .task-item strong {
            font-size: 1.2em;
        }

        .task-item button {
            background-color: #db9da4;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
        }

        nav {
            background-color: #f8f9fa;
            margin-bottom: 20px;
        }
    </style>
</head>

<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Navbar</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup"
                aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                <div class="navbar-nav ml-auto">
                    <a class="nav-link" href="login.html">Go to Login Page</a>
                    <a class="nav-link" href="main.html">Go to Main Page</a>
                </div>
            </div>
        </div>
    </nav>
    <section>
        <div class="schedule-container">
            <h2>DAY 1</h2>
            <p>Set the Plan of Day 1</p>
            <button class="btn btn-primary" data-toggle="modal" data-target="#addTaskModal">+</button>
            <ul id="taskList" class="task-list"></ul>
        </div>
    </section>
    <section>
        <div class="schedule-container">
            <h2>DAY 2</h2>
            <p>Set the Plan of Day 2</p>
            <button class="btn btn-primary" data-toggle="modal" data-target="#addTaskModal">+</button>
            <!-- 업무항목 목록 -->
            <ul id="taskList" class="task-list"></ul>
        </div>
    </section>
    <section>
        <div class="schedule-container">
            <h2>DAY 3</h2>
            <p>Set the Plan of Day 3</p>
            <button class="btn btn-primary" data-toggle="modal" data-target="#addTaskModal">+</button>
            <!-- 업무항목 목록 -->
            <ul id="taskList" class="task-list"></ul>
        </div>
    </section>
    <section>
        <div class="schedule-container">
            <h2>DAY 4</h2>
            <p>Set the Plan of Day 4</p>
            <!-- 업무항목 추가 버튼 -->
            <button class="btn btn-primary" data-toggle="modal" data-target="#addTaskModal">+</button>
            <!-- 업무항목 목록 -->
            <ul id="taskList" class="task-list"></ul>
        </div>
    </section>
    <section>
        <div class="schedule-container">
            <h2>DAY 5</h2>
            <p>Set the Plan of Day 5</p>
            <button class="btn btn-primary" data-toggle="modal" data-target="#addTaskModal">+</button>
            <!-- 업무항목 목록 -->
            <ul id="taskList" class="task-list"></ul>
        </div>
    </section>
    <section>
        <div class="schedule-container">
            <h2>DAY 6</h2>
            <p>Set the Plan of Day 6</p>
            <button class="btn btn-primary" data-toggle="modal" data-target="#addTaskModal">+</button>
            <!-- 업무항목 목록 -->
            <ul id="taskList" class="task-list"></ul>
        </div>
    </section>
    <section>
        <div class="schedule-container">
            <h2>DAY 7</h2>
            <p>Set the Plan of Day 7</p>
            <button class="btn btn-primary" data-toggle="modal" data-target="#addTaskModal">+</button>
            <!-- 업무항목 목록 -->
            <ul id="taskList" class="task-list"></ul>
        </div>
    </section>



    <!-- 모달 창 -->
    <div class="modal" id="addTaskModal">
        <div class="modal-dialog">
            <div class="modal-content">

                <!-- 모달 헤더 -->
                <div class="modal-header">
                    <h4 class="modal-title">업무항목 추가</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <!-- 모달 본문 -->
                <div class="modal-body">
                    <form id="addTaskForm">
                        <div class="form-group">
                            <label for="subject">과목명:</label>
                            <input type="text" class="form-control" id="subject" required>
                        </div>
                        <div class="form-group">
                            <label for="plannedTime">목표 공부 시간:</label>
                            <input type="text" class="form-control" id="plannedTime" required>
                        </div>

                        <div class="form-group">
                            <label for="plannedTime">목표 공부 분:</label>
                            <input type="text" class="form-control" id="plannedm" required>
                        </div>
                        <button type="button" class="btn btn-primary" onclick="submitForm()">추가</button>

                    </form>
                </div>
            </div>
        </div>
    </div>


    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

    <script>
        $(document).ready(function () {
            $('#addTaskModal').on('show.bs.modal', function () {
                // Clear form fields when the modal is displayed
                document.getElementById('addTaskForm').reset();
                taskToEdit = null;
            });

        });
        function submitForm() {
            // 사용자로부터 과목명과 목표 공부 시간 입력 받기
            var subject = document.getElementById('subject').value;
            var plannedTime = document.getElementById('plannedTime').value;
            var plannedm = document.getElementById('plannedm').value;
            // 입력된 값이 숫자인지 확인
            if (isNaN(plannedTime)) {
                alert('목표 공부 시간은 숫자로 입력해주세요.');
                return;
            }

            // 업무항목 목록에 새로운 항목 추가
            var taskList = document.getElementById('taskList');
            var taskItem = document.createElement('li');
            taskItem.className = 'task-item';
            taskItem.innerHTML = `
                <strong>${subject}</strong> - Planned Time: ${plannedTime} hours ${plannedm} minutes
                <button class="btn btn-fix" onclick="fixForm(this)">수정</button>
                <button class="btn btn-danger" onclick="removeTask(this)">삭제</button>`;
            taskList.appendChild(taskItem);

            // 모달 창 닫기
            $('#addTaskModal').modal('hide');
        }

        function fixForm(button) {
        }

        function updateTask() {
        }

        function removeTask(button) {
            // 부모 엘리먼트인 task-item을 찾아서 삭제
            var taskItem = button.parentElement;
            taskItem.remove();
        }
    </script>
</body>

</html>